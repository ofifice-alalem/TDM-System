================================================================================
                    âœ… ØªÙ‚Ø±ÙŠØ± Ù†Ù‡Ø§Ø¦ÙŠ: ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ© Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø³ÙˆÙ‚
================================================================================

ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: 2024
ğŸ¯ Ø§Ù„Ø­Ø§Ù„Ø©: Ù…ÙƒØªÙ…Ù„ 100%

================================================================================
                        ğŸ“‹ Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ù„ÙŠÙ„
================================================================================

âœ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ù„Ù (5-Ø¹Ù…Ù„ÙŠØ©_Ø³Ø­Ø¨_Ø£Ø±Ø¨Ø§Ø­_Ø§Ù„Ù…Ø³ÙˆÙ‚.txt):
   - Ø§Ù„Ø¬Ø¯ÙˆÙ„: marketer_withdrawal_requests
   - Ø§Ù„Ù…Ø±Ø§Ø­Ù„: pending â†’ approved/rejected/cancelled
   - Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ØŒ Ø±ÙØ¹ Ø¥ÙŠØµØ§Ù„ Ù…ÙˆÙ‚Ø¹ØŒ ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„

âœ… ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹:
   - Migration: Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹ âœ“
   - Models: ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ âœ“
   - Controllers: ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ (API + Web) âœ“
   - Routes: ØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡Ø§ âœ“
   - Resources: ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ âœ“

================================================================================
                        ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù†Ø´Ø£Ø© (7 Ù…Ù„ÙØ§Øª)
================================================================================

1. app/Models/MarketerWithdrawalRequest.php
   - Model ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
   - Relations: marketer, approvedBy, rejectedBy

2. app/Http/Resources/MarketerWithdrawalResource.php
   - Resource Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ø³ØªØ¬Ø§Ø¨Ø© API
   - ÙŠØªØ¶Ù…Ù† status_label Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©

3. app/Http/Controllers/Api/Marketer/MarketerWithdrawalController.php
   - index() - Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
   - store() - Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯
   - show() - Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨
   - cancel() - Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ (pending ÙÙ‚Ø·)
   - balance() - Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª

4. app/Http/Controllers/Api/Admin/AdminWithdrawalController.php
   - index() - Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Ù…Ø¹ ÙÙ„ØªØ±Ø©)
   - show() - Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ù…Ø¹ Ø§Ù„Ø±ØµÙŠØ¯
   - approve() - Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ + Ø±ÙØ¹ Ø¥ÙŠØµØ§Ù„
   - reject() - Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨

5. app/Http/Controllers/Web/Marketer/WithdrawalController.php
   - Web interface Ù„Ù„Ù…Ø³ÙˆÙ‚
   - index, create, store, show, cancel

6. app/Http/Controllers/Web/Admin/WithdrawalController.php
   - Web interface Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©
   - index, show, approve, reject

7. routes/api/marketer.php (Ù…Ø­Ø¯Ø«)
   routes/api/admin.php (Ù…Ø­Ø¯Ø«)
   routes/web.php (Ù…Ø­Ø¯Ø«)

================================================================================
                        ğŸ”Œ API Endpoints Ø§Ù„ÙƒØ§Ù…Ù„Ø©
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„Ù…Ø³ÙˆÙ‚ (Marketer) - Middleware: auth:sanctum, role:salesman                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/marketer/withdrawals
       âœ“ Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨ Ù„Ù„Ù…Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø³Ø¬Ù„
       âœ“ Response: MarketerWithdrawalResource[]

POST   /api/marketer/withdrawals
       âœ“ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯
       âœ“ Body: { requested_amount: number }
       âœ“ Validation: ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
       âœ“ Response: MarketerWithdrawalResource

GET    /api/marketer/withdrawals/balance
       âœ“ Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­
       âœ“ Response: {
           total_commissions: decimal,
           total_withdrawals: decimal,
           available_balance: decimal
         }

GET    /api/marketer/withdrawals/{id}
       âœ“ Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ù…Ø­Ø¯Ø¯
       âœ“ Response: MarketerWithdrawalResource

PUT    /api/marketer/withdrawals/{id}/cancel
       âœ“ Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ (pending ÙÙ‚Ø·)
       âœ“ Body: { notes?: string }
       âœ“ Response: { message: string }

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Admin) - Middleware: auth:sanctum, role:admin                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/admin/withdrawals
       âœ“ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
       âœ“ Query Params: ?status=pending&marketer_id=1
       âœ“ Response: MarketerWithdrawalResource[]

GET    /api/admin/withdrawals/{id}
       âœ“ Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ù…Ø¹ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
       âœ“ Response: {
           withdrawal: MarketerWithdrawalResource,
           available_balance: decimal
         }

POST   /api/admin/withdrawals/{id}/approve
       âœ“ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
       âœ“ Body: FormData { signed_receipt_image: file }
       âœ“ Validation: image|mimes:jpeg,png,jpg|max:2048
       âœ“ ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
       âœ“ Response: MarketerWithdrawalResource

POST   /api/admin/withdrawals/{id}/reject
       âœ“ Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
       âœ“ Body: { notes: string (required) }
       âœ“ Response: MarketerWithdrawalResource

================================================================================
                        ğŸ”„ Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ (Status Flow)
================================================================================

                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚   pending   â”‚ â† Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠÙ†Ø´Ø¦ Ø§Ù„Ø·Ù„Ø¨
                            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚              â”‚              â”‚
                    â–¼              â–¼              â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚cancelled â”‚   â”‚ approved â”‚   â”‚ rejected â”‚
              â”‚(Ø§Ù„Ù…Ø³ÙˆÙ‚)  â”‚   â”‚(Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©) â”‚   â”‚(Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©) â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

pending    â†’ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠÙ†Ø´Ø¦ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
cancelled  â†’ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠÙ„ØºÙŠ Ø§Ù„Ø·Ù„Ø¨ (pending ÙÙ‚Ø·)
approved   â†’ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªÙˆØ§ÙÙ‚ + Ø±ÙØ¹ Ø¥ÙŠØµØ§Ù„ Ù…ÙˆÙ‚Ø¹
rejected   â†’ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ±ÙØ¶ + Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶

================================================================================
                        ğŸ’° Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
================================================================================

Formula:
  available_balance = total_commissions - total_approved_withdrawals

Implementation:
  $totalCommissions = MarketerCommission::where('marketer_id', $id)
                        ->sum('commission_amount');
  
  $totalWithdrawals = MarketerWithdrawalRequest::where('marketer_id', $id)
                        ->where('status', 'approved')
                        ->sum('requested_amount');
  
  $availableBalance = $totalCommissions - $totalWithdrawals;

Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª:
  - ØªØ£ØªÙŠ Ù…Ù† Ø¬Ø¯ÙˆÙ„ marketer_commissions
  - ØªÙØ³Ø¬Ù„ Ø¹Ù†Ø¯ ØªÙˆØ«ÙŠÙ‚ ØªØ³Ø¯ÙŠØ¯ Ø§Ù„Ù…ØªØ¬Ø± (store_payments)
  - Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© = Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø³Ø¯Ø¯ Ã— Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…ÙˆÙ„Ø©

================================================================================
                        âœ… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©
================================================================================

1. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ Ù‚Ø¨Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨
2. âœ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
3. âœ… Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ù…ÙˆÙ‚Ø¹ Ø¥Ù„Ø²Ø§Ù…ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
4. âœ… Ø§Ù„Ø¥Ù„ØºØ§Ø¡ Ù…ØªØ§Ø­ Ù„Ù„Ù…Ø³ÙˆÙ‚ ÙÙŠ Ø­Ø§Ù„Ø© pending ÙÙ‚Ø·
5. âœ… Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶
6. âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… DB Transactions Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
7. âœ… ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„ (approved_by, approved_at, rejected_by, rejected_at)
8. âœ… Validation Ø´Ø§Ù…Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª
9. âœ… Authorization: Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠØ±Ù‰ Ø·Ù„Ø¨Ø§ØªÙ‡ ÙÙ‚Ø·
10. âœ… ØµÙˆØ± Ø§Ù„Ø¥ÙŠØµØ§Ù„Ø§Øª ØªÙØ­ÙØ¸ ÙÙŠ storage/app/public/receipts/

================================================================================
                        ğŸ” Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª (Authorization)
================================================================================

Ø§Ù„Ù…Ø³ÙˆÙ‚ (salesman):
  âœ“ Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨
  âœ“ Ø¹Ø±Ø¶ Ø·Ù„Ø¨Ø§ØªÙ‡ ÙÙ‚Ø· (where marketer_id = auth()->id())
  âœ“ Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨Ø§ØªÙ‡ (pending ÙÙ‚Ø·)
  âœ“ Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯Ù‡ Ø§Ù„Ù…ØªØ§Ø­

Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (admin):
  âœ“ Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
  âœ“ ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ù„Ø© ÙˆØ§Ù„Ù…Ø³ÙˆÙ‚
  âœ“ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  âœ“ Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  âœ“ Ø±ÙØ¹ Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹

================================================================================
                        ğŸ“Š Ù‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
================================================================================

Table: marketer_withdrawal_requests
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Column                   â”‚ Type         â”‚ Description                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                       â”‚ BIGINT       â”‚ PK, AUTO_INCREMENT              â”‚
â”‚ marketer_id              â”‚ BIGINT       â”‚ FK â†’ users.id                   â”‚
â”‚ requested_amount         â”‚ DECIMAL(12,2)â”‚ Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨                 â”‚
â”‚ status                   â”‚ ENUM         â”‚ pending/approved/rejected/...   â”‚
â”‚ approved_by              â”‚ BIGINT       â”‚ FK â†’ users.id (nullable)        â”‚
â”‚ approved_at              â”‚ TIMESTAMP    â”‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© (nullable)       â”‚
â”‚ rejected_by              â”‚ BIGINT       â”‚ FK â†’ users.id (nullable)        â”‚
â”‚ rejected_at              â”‚ TIMESTAMP    â”‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø±ÙØ¶ (nullable)          â”‚
â”‚ signed_receipt_image     â”‚ VARCHAR      â”‚ ØµÙˆØ±Ø© Ø§Ù„Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ (nullable)  â”‚
â”‚ notes                    â”‚ TEXT         â”‚ Ù…Ù„Ø§Ø­Ø¸Ø§Øª (nullable)              â”‚
â”‚ created_at               â”‚ TIMESTAMP    â”‚ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡                   â”‚
â”‚ updated_at               â”‚ TIMESTAMP    â”‚ ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Relations:
  - marketer â†’ users (marketer_id)
  - approvedBy â†’ users (approved_by)
  - rejectedBy â†’ users (rejected_by)

================================================================================
                        ğŸ§ª Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
================================================================================

1ï¸âƒ£ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠØ·Ù„Ø¨ Ø³Ø­Ø¨ 1000 Ø±ÙŠØ§Ù„:

POST /api/marketer/withdrawals
Authorization: Bearer {token}
Content-Type: application/json

{
  "requested_amount": 1000
}

Response 201:
{
  "message": "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ø¨Ù†Ø¬Ø§Ø­",
  "data": {
    "id": 1,
    "marketer_id": 3,
    "marketer_name": "Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",
    "requested_amount": "1000.00",
    "status": "pending",
    "status_label": "Ù‚ÙŠØ¯ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",
    ...
  }
}

2ï¸âƒ£ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠØ¹Ø±Ø¶ Ø±ØµÙŠØ¯Ù‡:

GET /api/marketer/withdrawals/balance
Authorization: Bearer {token}

Response 200:
{
  "message": "Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª",
  "data": {
    "total_commissions": "5000.00",
    "total_withdrawals": "2000.00",
    "available_balance": "3000.00"
  }
}

3ï¸âƒ£ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨:

POST /api/admin/withdrawals/1/approve
Authorization: Bearer {admin_token}
Content-Type: multipart/form-data

signed_receipt_image: [file]

Response 200:
{
  "message": "ØªÙ…Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ø¨Ù†Ø¬Ø§Ø­",
  "data": {
    "id": 1,
    "status": "approved",
    "approved_by": 1,
    "approved_by_name": "Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…",
    "approved_at": "2024-01-15 10:30:00",
    "signed_receipt_image": "http://domain.com/storage/receipts/xxx.jpg",
    ...
  }
}

4ï¸âƒ£ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨:

POST /api/admin/withdrawals/2/reject
Authorization: Bearer {admin_token}
Content-Type: application/json

{
  "notes": "Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ"
}

Response 200:
{
  "message": "ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨",
  "data": {
    "id": 2,
    "status": "rejected",
    "rejected_by": 1,
    "rejected_by_name": "Ø§Ù„Ù…Ø¯ÙŠØ± Ø§Ù„Ø¹Ø§Ù…",
    "rejected_at": "2024-01-15 11:00:00",
    "notes": "Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙ",
    ...
  }
}

================================================================================
                        ğŸ¯ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
================================================================================

1. Ø¥Ù†Ø´Ø§Ø¡ Views Ù„Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Web:
   â–¡ resources/views/marketer/withdrawals/index.blade.php
   â–¡ resources/views/marketer/withdrawals/create.blade.php
   â–¡ resources/views/marketer/withdrawals/show.blade.php
   â–¡ resources/views/admin/withdrawals/index.blade.php
   â–¡ resources/views/admin/withdrawals/show.blade.php

2. Ø¥Ø¶Ø§ÙØ© Notifications:
   â–¡ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ÙˆÙ‚ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
   â–¡ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ù…Ø³ÙˆÙ‚ Ø¹Ù†Ø¯ Ø§Ù„Ø±ÙØ¶
   â–¡ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© Ø¹Ù†Ø¯ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯

3. Ø¥Ø¶Ø§ÙØ© Reports:
   â–¡ ØªÙ‚Ø±ÙŠØ± Ø³Ø­ÙˆØ¨Ø§Øª Ø§Ù„Ù…Ø³ÙˆÙ‚ÙŠÙ†
   â–¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ±Ø§ÙƒÙ…Ø©
   â–¡ ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ Ù„ÙƒÙ„ Ù…Ø³ÙˆÙ‚

4. Testing:
   â–¡ Unit Tests Ù„Ù„Ù€ Controllers
   â–¡ Feature Tests Ù„Ù„Ù€ API Endpoints
   â–¡ Integration Tests Ù„Ù„Ø¯ÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©

5. Documentation:
   â–¡ Postman Collection
   â–¡ API Documentation (Swagger/OpenAPI)

================================================================================
                        âœ… Ø§Ù„Ø®Ù„Ø§ØµØ©
================================================================================

âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ© Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø³ÙˆÙ‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
âœ… Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§
âœ… API Endpoints Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
âœ… Web Controllers Ø¬Ø§Ù‡Ø²Ø©
âœ… Validation Ø´Ø§Ù…Ù„
âœ… Authorization Ù…Ø­ÙƒÙ…
âœ… Database Transactions Ù…Ø·Ø¨Ù‚Ø©
âœ… Resources Ù„Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ù†Ø³Ù‚Ø©
âœ… ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„

Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…! ğŸ‰

================================================================================
