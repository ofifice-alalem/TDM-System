================================================================================
                    ØªÙ‚Ø±ÙŠØ± ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ© Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø³ÙˆÙ‚
================================================================================

âœ… ØªÙ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù†Ø¬Ø§Ø­ - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©

================================================================================
                            ğŸ“ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ù†Ø´Ø£Ø©
================================================================================

1ï¸âƒ£ Models:
   âœ… app/Models/MarketerWithdrawalRequest.php

2ï¸âƒ£ API Controllers:
   âœ… app/Http/Controllers/Api/Marketer/MarketerWithdrawalController.php
   âœ… app/Http/Controllers/Api/Admin/AdminWithdrawalController.php

3ï¸âƒ£ Web Controllers:
   âœ… app/Http/Controllers/Web/Marketer/WithdrawalController.php
   âœ… app/Http/Controllers/Web/Admin/WithdrawalController.php

4ï¸âƒ£ Routes:
   âœ… routes/api/marketer.php (Ù…Ø­Ø¯Ø«)
   âœ… routes/api/admin.php (Ù…Ø­Ø¯Ø«)
   âœ… routes/web.php (Ù…Ø­Ø¯Ø«)

================================================================================
                        ğŸ”Œ API Endpoints Ø§Ù„Ù…ØªØ§Ø­Ø©
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ù„Ù„Ù…Ø³ÙˆÙ‚ (Marketer) - /api/marketer/                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/marketer/withdrawals
       - Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨ Ù„Ù„Ù…Ø³ÙˆÙ‚
       - Auth: Required (salesman)

POST   /api/marketer/withdrawals
       - Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ø¬Ø¯ÙŠØ¯
       - Body: { requested_amount: number }
       - Auth: Required (salesman)

GET    /api/marketer/withdrawals/balance
       - Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ§Ø­
       - Response: { total_commissions, total_withdrawals, available_balance }
       - Auth: Required (salesman)

GET    /api/marketer/withdrawals/{id}
       - Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ù…Ø­Ø¯Ø¯
       - Auth: Required (salesman)

PUT    /api/marketer/withdrawals/{id}/cancel
       - Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ Ø³Ø­Ø¨ (pending ÙÙ‚Ø·)
       - Body: { notes?: string }
       - Auth: Required (salesman)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© (Admin) - /api/admin/                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /api/admin/withdrawals
       - Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
       - Query: ?status=pending&marketer_id=1
       - Auth: Required (admin)

GET    /api/admin/withdrawals/{id}
       - Ø¹Ø±Ø¶ ØªÙØ§ØµÙŠÙ„ Ø·Ù„Ø¨ Ø³Ø­Ø¨ Ù…Ø¹ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
       - Auth: Required (admin)

POST   /api/admin/withdrawals/{id}/approve
       - Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
       - Body: FormData { signed_receipt_image: file }
       - Auth: Required (admin)

POST   /api/admin/withdrawals/{id}/reject
       - Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
       - Body: { notes: string }
       - Auth: Required (admin)

================================================================================
                        ğŸŒ Web Routes Ø§Ù„Ù…ØªØ§Ø­Ø©
================================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ù„Ù„Ù…Ø³ÙˆÙ‚ (Marketer)                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /marketer/withdrawals
GET    /marketer/withdrawals/create
GET    /marketer/withdrawals/{id}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© (Admin)                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

GET    /admin/withdrawals
GET    /admin/withdrawals/{id}

================================================================================
                        ğŸ“Š Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
================================================================================

1ï¸âƒ£ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠÙ†Ø´Ø¦ Ø·Ù„Ø¨ Ø³Ø­Ø¨ (pending)
   POST /api/marketer/withdrawals
   - ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
   - ÙŠÙ†Ø´Ø¦ Ø³Ø¬Ù„ Ø¨Ø­Ø§Ù„Ø© pending

2ï¸âƒ£ Ø§Ù„Ù…Ø³ÙˆÙ‚ ÙŠÙ…ÙƒÙ†Ù‡ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ (cancelled)
   PUT /api/marketer/withdrawals/{id}/cancel
   - ÙÙ‚Ø· Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø­Ø§Ù„Ø© pending

3ï¸âƒ£ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨ (approved)
   POST /api/admin/withdrawals/{id}/approve
   - ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
   - ÙŠØ±ÙØ¹ ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹
   - ÙŠØ­Ø¯Ø« Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ù„Ù‰ approved
   - ÙŠØ³Ø¬Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆÙˆÙ‚Øª Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©

4ï¸âƒ£ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ØªØ±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨ (rejected)
   POST /api/admin/withdrawals/{id}/reject
   - ÙŠØ­Ø¯Ø« Ø§Ù„Ø­Ø§Ù„Ø© Ø¥Ù„Ù‰ rejected
   - ÙŠØ³Ø¬Ù„ Ø³Ø¨Ø¨ Ø§Ù„Ø±ÙØ¶

================================================================================
                        ğŸ’° Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
================================================================================

Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ = Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø§Øª - Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„Ø³Ø­ÙˆØ¨Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©

SELECT 
  SUM(mc.commission_amount) - 
  COALESCE(SUM(mwr.requested_amount), 0) AS available_balance
FROM marketer_commissions mc
LEFT JOIN marketer_withdrawal_requests mwr 
  ON mwr.marketer_id = mc.marketer_id 
  AND mwr.status = 'approved'
WHERE mc.marketer_id = ?

================================================================================
                        âœ… Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…Ø·Ø¨Ù‚Ø©
================================================================================

1. âœ… Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ø³Ø­Ø¨ Ø¨Ù…Ø¨Ù„Øº Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­
2. âœ… ÙŠØ¬Ø¨ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø¥ÙŠØµØ§Ù„ Ù…ÙˆÙ‚Ø¹ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©
3. âœ… ÙŠÙ…ÙƒÙ† Ù„Ù„Ù…Ø³ÙˆÙ‚ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ø­Ø§Ù„Ø© pending ÙÙ‚Ø·
4. âœ… Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨ Ø¨Ø¹Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„ÙŠÙ‡
5. âœ… ÙƒÙ„ Ø³Ø­Ø¨ ÙŠÙØ®ØµÙ… Ù…Ù† Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø­ Ù„Ù„Ù…Ø³ÙˆÙ‚
6. âœ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Transactions Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª
7. âœ… ØªÙˆØ«ÙŠÙ‚ ÙƒØ§Ù…Ù„ Ù„ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ© (approved_by, approved_at, etc.)

================================================================================
                        ğŸ” Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
================================================================================

Ø§Ù„Ù…Ø³ÙˆÙ‚ (salesman):
  - Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨ Ø§Ù„Ø³Ø­Ø¨
  - Ø¹Ø±Ø¶ Ø·Ù„Ø¨Ø§ØªÙ‡ ÙÙ‚Ø·
  - Ø¥Ù„ØºØ§Ø¡ Ø·Ù„Ø¨Ø§ØªÙ‡ (pending ÙÙ‚Ø·)
  - Ø¹Ø±Ø¶ Ø±ØµÙŠØ¯Ù‡ Ø§Ù„Ù…ØªØ§Ø­

Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (admin):
  - Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø³Ø­Ø¨
  - Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  - Ø±ÙØ¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
  - Ø±ÙØ¹ Ø¥ÙŠØµØ§Ù„ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…

================================================================================
                        ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©
================================================================================

1. Migration Ù…ÙˆØ¬ÙˆØ¯ Ù…Ø³Ø¨Ù‚Ø§Ù‹: 2024_01_01_000023_create_marketer_withdrawal_requests_table.php
2. Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
3. Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ù…Ø¹ Ø¬Ø¯Ø§ÙˆÙ„ Ø£Ø®Ø±Ù‰:
   - users (marketer_id, approved_by, rejected_by)
   - marketer_commissions (Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±ØµÙŠØ¯)
4. ØµÙˆØ± Ø§Ù„Ø¥ÙŠØµØ§Ù„Ø§Øª ØªÙØ­ÙØ¸ ÙÙŠ: storage/app/public/receipts/
5. ÙŠØ¬Ø¨ ØªØ´ØºÙŠÙ„: php artisan storage:link

================================================================================
                        ğŸ¯ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©
================================================================================

1. Ø¥Ù†Ø´Ø§Ø¡ Views Ù„Ù„ÙˆØ§Ø¬Ù‡Ø§Øª Web:
   - resources/views/marketer/withdrawals/index.blade.php
   - resources/views/marketer/withdrawals/create.blade.php
   - resources/views/marketer/withdrawals/show.blade.php
   - resources/views/admin/withdrawals/index.blade.php
   - resources/views/admin/withdrawals/show.blade.php

2. Ø§Ø®ØªØ¨Ø§Ø± API Endpoints
3. Ø¥Ø¶Ø§ÙØ© Validation Rules Ø¥Ø¶Ø§ÙÙŠØ© Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
4. Ø¥Ø¶Ø§ÙØ© Notifications Ù„Ù„Ù…Ø³ÙˆÙ‚ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©/Ø§Ù„Ø±ÙØ¶

================================================================================
                        âœ… Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…ÙƒØªÙ…Ù„
================================================================================

ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø¹Ù…Ù„ÙŠØ© Ø³Ø­Ø¨ Ø£Ø±Ø¨Ø§Ø­ Ø§Ù„Ù…Ø³ÙˆÙ‚ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ ÙˆÙÙ‚Ø§Ù‹ Ù„Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© ÙÙŠ Ø§Ù„Ù…Ù„Ù.
Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ§Ù„Ø§Ø®ØªØ¨Ø§Ø±.

================================================================================
